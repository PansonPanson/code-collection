#### 为什么需要异常控制流？

当仅限于程序本身的控制时，我们使用跳转和分支、调用和返回这两种控制流的方式足以满足条件了，但如果有更复杂的情况，比如说系统状态发生变化的时候，仅有前述的两种控制流的方式是无法满足的。如下面的几个例子：

+ 数据从磁盘或者网络适配器到达
+ 指令除以了零
+ 用户按下 ctrl+c
+ 系统的计时器到时间

此时我们使用异常控制流来控制。

> 异常控制流存在于系统的每个层级，最底层的机制称为**异常(Exception)**，用以改变控制流以响应系统事件，通常是由硬件的操作系统共同实现的。更高层次的异常控制流包括**进程切换(Process Context Switch)**、**信号(Signal)**和**非本地跳转(Nonlocal Jumps)**，也可以看做是一个从硬件过渡到操作系统，再从操作系统过渡到语言库的过程。进程切换是由硬件计时器和操作系统共同实现的，而信号则只是操作系统层面的概念了，到了非本地跳转就已经是在 C 运行时库中实现的了。

#### 进程与线程

进程是计算机科学中最为重要的思想之一，进程才是程序（指令和数据）的真正运行实例。之所以重要，是因为进程给每个应用提供了两个非常关键的抽象：一是逻辑控制流，二是私有地址空间。逻辑控制流通过称为上下文切换(context switching)的内核机制让每个程序都感觉自己在独占处理器。私有地址空间则是通过称为虚拟内存(virtual memory)的机制让每个程序都感觉自己在独占内存。这样的抽象使得具体的进程不需要操心处理器和内存的相关适宜，也保证了在不同情况下运行同样的程序能得到相同的结果。