# 操作系统漫游记002之信息的位与表示part1

## 1. 一些术语的含义

+ 无符号（unsigned）编码：基于传统的二进制表示法表示大于或者等于零的数字

+ 补码（two‘s-complement）编码：表示有符号整数的最常见的 

+ 浮点数（floating-point）编码：表示实数的科学计数法的以2为基数的版本

+ 字节（byte）：大多数计算机使用8位的块， 或者字节，作为最小的可寻址的内存单位

+ 地址（address）与虚拟地址空间（virtual address space）：内存的每个字节都由一个唯一的数字来标志，称为它的地址，所有可能地址地集合就称为虚拟地址空间。

+ 字长（word size）：每台计算机都由一个字长，指明指针数据的标称大小。字长决定了虚拟空间的最大值。对于一个字长为n位的机器而言，虚拟地址地范围为0~2^n^-1个字节。

+ 对象的地址：所使用字节中最小的地址

+ 小端法（little endian）与大端法(big endian) ：最低有效字节在最前面的方式，称为小端法，最高有效字节在最前面的方式，称为大端法。

  > 假设变量x的类型为int，位于地址0x100处，它的十六进制值为0x01234567，地址范围0x100~0x103的字节顺序依赖于机器的类型：
  >
  > + 大端法
  >
  > |      | 0x100 | 0x101 | 0x102 | 0x103 |      |
  > | :--: | :---: | :---: | :---: | :---: | :--: |
  > | ...  |  01   |  23   |  45   |  67   | ...  |
  >
  > + 小端法
  >
  > |      | 0x100 | 0x101 | 0x102 | 0x103 |      |
  > | :--: | :---: | :---: | :---: | :---: | :--: |
  > | ...  |  67   |  45   |  23   |  01   | ...  |

## 2. C语言与Java中的移位运算

### C语言

+ 左移

表达式`x<<k`： x向左移动k位，丢弃最高的k位，并在右端补k个0。

+ 逻辑右移：在左端补k个0
+ 算数右移：在左端补k个最高有效位的值。

实际上，几乎所有的编译器/机器组合都对有符号数使用算数右移，且许多程序员也都假设机器会使用这种右移。另一方面，对于无符号数，右移必须是逻辑右移。

例子：

|       操作       |     值     |     值     |
| :--------------: | :--------: | :--------: |
|      参数x       | [01100011] | [10010101] |
|       x<<4       | [00110000] | [01010000] |
| x>>4（逻辑右移） | [00000110] | [00001001] |
| x>>4（算数右移） | [00000110] | [11111001] |

### Java

与C语言相比，Java对于如何进行右移有明确的定义。

表达式`x>>k`会将x**算数右移**k个位置，而`x>>>k`会对x做逻辑右移。

